<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Tutorial 3: DOM Events</title>

    <link href="css/style.css" rel="stylesheet" type="text/css">
    <link href="css/prettify.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="css/codemirror.css">
    <link rel="stylesheet" href="css/translate.css" />

    <script src="js/ga.js"></script>
    <script src="js/common.js"></script>
    <script src="js/3.js"></script>
    <script src="js/prettify.js"></script>
    <script src="js/codemirror.js"></script>
    <script src="js/matchbrackets.js"></script>
    <script src="js/javascript.js"></script>
    <script src="js/translate.js" type="text/javascript"></script>
</head>
<body>
    <form name="language">
        <select name="current">
            <option>en</option>
            <option selected>ru</option>
        </select>
    </form>

    <!-- Intro -->
    <h1 lang="en" hidden="hidden">Tutorial 3: DOM Events</h1>
    <h1 lang="ru" hidden="hidden">Тема 3: События DOM</h1>

    <script>
        if (!document.addEventListener) {
            alert('Whoa, you appear to be using an ancient version of Internet Explorer.\n' +
                  'For this tutorial please use a standard-compliant browser.\n' +
                  'Lessons 2-5 and the exercise WILL NOT WORK!');
        }
    </script>

    <p lang="en" hidden="hidden">
        This tutorial will teach you how to handle events in the DOM from JavaScript.
        Knowledge of how to access the DOM from JavaScript is assumed.
        There are five short lessons, followed by one exercise.
    </p>

    <p lang="ru" hidden="hidden">
        Эта тема посвящена обработке событий DOM с применением JavaScript.
        Для понимания этой темы необходимы знания по доступу к DOM  через JavaScript.
        Здесь представлены пять кортотких упражнения и одно практическое задание.
    </p>

    <p lang="en" hidden="hidden">
        <img src="warning.png" style="float: left; margin-right: 1em" height="28" width="30">
        It is highly recommended that you open your browser's JavaScript console now.
        When stuff doesn't work, there's usually an error printed in the console.
        The console is your friend.
    </p>

    <p lang="ru" hidden="hidden">
        <img src="warning.png" style="float: left; margin-right: 1em" height="28" width="30">
        Настоятельно рекомендуется открыть консоль JavaScript в браузере.
        Если что-то не работает, то ошибки обычно выводятся в консоль.
        Таким образом, консоль - ваш друг.
    </p>

    <!-- Lesson 1 -->
    <p>
        <button onclick="Tutorial.showDiv('section1', this)">
            <span lang="en" hidden="hidden">Start Lesson 1 ↓</span>
            <span lang="ru" hidden="hidden">Начать упражнение 1 ↓</span>
        </button>
    </p>

    <div id="section1" class="section">
        <h2 lang="en" hidden="hidden">Lesson 1: Traditional Model</h2>
        <h2 lang="ru" hidden="hidden">Упражнение 1: Традиционный поход</h2>
        <p lang="en" hidden="hidden">
            The simplest way to make an element on a web page respond to an event is
            to set the element's <code>.onclick</code> property to a function.  When the
            element is clicked, the function is executed.  Within the function, the
            magic variable <code>this</code> will be the element that was clicked.
        </p>
        <p lang="ru" hidden="hidden">
            Наиболее простой способ добавить к элементу на веб-странице возможность отвечать на собитие
            это установить значение свойства <code>.onclick</code> равной функции - обработчику события.
            Когда на элементе произведен клик (т.е. наступило событие) - вызывается заданная функция.
            В функции <q>волшебная</q> переменная <code>this</code> будет тем элементом, на котором был выполнен клик.
        </p>

        <p lang="en" hidden="hidden">This is the HTML for the 'Execute' button below:</p>
        <p lang="ru" hidden="hidden">Это HTML разметка для кнопки 'Execute':</p>
        <pre class="prettyprint"><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"first"</span><span class="tag">&gt;</span><span class="pln">Execute</span><span class="tag">&lt;/button&gt;</span></pre>

        <p lang="en" hidden="hidden">
            Write some JavaScript code below that finds the button using
            <code>getElementById</code>, then sets the element's <code>.onclick</code>
            property to a function that sets the button's style.background property to
            <tt style="background-color: #ff8">'#ff8'</tt>.
        </p>

        <p lang="ru" hidden="hidden">
            Напишите код на JavaScript для поиска кнопки используя метод
            <code>getElementById</code>, затем установите этому элементу свойство <code>.onclick</code>
            равное функции которая меняет цвет кнопки через свойство <code>style.background</code> на
            <tt style="background-color: #ff8">'#ff8'</tt>.
        </p>

        <p>
            <textarea id="code1"></textarea><br>
            <span id="playground1" style="display: none">
                <button id="first">
                    <span lang="en" hidden="hidden">Execute</span>
                    <span lang="ru" hidden="hidden">Выполнить</span>
                </button>
            </span>
            <button id="execute1" onclick="Tutorial.setup1(); Tutorial.execute(1)">
                <!--<span lang="en" hidden="hidden">Execute</span>
                <span lang="ru" hidden="hidden">Выполнить</span>-->
            </button>
            &nbsp;
            <button onclick="Tutorial.showDiv('solution1', this)" id="giveup1">
                <span lang="en" hidden="hidden">See Answer</span>
                <span lang="ru" hidden="hidden">Посмотреть ответ</span>
            </button>
        </p>

        <div id="solution1" class="solution">
            <fieldset>
                <legend>
                    <span lang="en" hidden="hidden">Sample solution</span>
                    <span lang="ru" hidden="hidden">Решение</span>
                </legend>
                <code class="prettyprint"><span class="pln">document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">'first'</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><br><span class="pln"> &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">background </span><span class="pun">=</span><span class="pln"> </span><span class="str">'#ff8'</span><span class="pun">;</span><br><span class="pln"> </span><span class="pun">};</span></code>
            </fieldset>

            <p>
                <button onclick="Tutorial.showDiv('section2', this)">
                    <span lang="en" hidden="hidden">Start Lesson 2 ↓</span>
                    <span lang="ru" hidden="hidden">Начать упражнение 2 ↓</span>
                </button>
            </p>
        </div>
    </div>

    <!-- Lesson 2 -->
    <div id="section2" class="section">
        <h2 lang="en" hidden="hidden">Lesson 2: WC3 Event Model</h2>
        <h2 lang="ru" hidden="hidden">Упражнение 2: Подход WC3 </h2>
        <p lang="en" hidden="hidden">
            The traditional model used above scales badly.  Don't use it.
            Consider what would happen if two different libraries attempted to set an
            event handler on the same element. The second library would clobber the first.
            As JavaScript applications grew in size this became an increasing problem.
        </p>
        <p lang="ru" hidden="hidden">
            Традиционный подход, продемонстрированный выше, плохо масштабируем. Не используйте его.
            Рассмотрим что произойдет если две различные библиотеки попытаются установить обработчик
            события для одного и того же элемента. Вторая библиотека затрет обработчик установленный первой.
            Так как приложения JavaScript разростаются и могут включать несколько библиотек одновременно, то
            это становится проблемой.
        </p>

        <p lang="en" hidden="hidden">
            The <code>addEventListener</code><sup><small><a target="help" href="https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener">[?]</a></small></sup>
            function provides a more flexible method of handling events.  The syntax is:
            <code>element.addEventListener('click', yourFunction, false)</code>
        </p>
        <p lang="ru" hidden="hidden">
            Метод <code>addEventListener</code><sup><small><a target="help" href="https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener">[?]</a></small></sup>
            предоставляет большую гибкость для обработки событий. Синтаксис таков:
            <code>element.addEventListener('click', yourFunction, false)</code>
        </p>

        <p lang="en" hidden="hidden">This is the HTML for the 'Execute' button below:</p>
        <p lang="ru" hidden="hidden">Внизу представлена HTML разметка для кнопки 'Execute':</p>

        <pre class="prettyprint"><span class="tag">&lt;button</span><span class="pln"></span><span class="atn">id</span><span class="pun">=</span><span class="atv">"w3c"</span><span class="tag">&gt;</span><span class="pln">Execute</span><span class="tag">&lt;/button&gt;</span></pre>

        <p lang="en" hidden="hidden">
            Write some JavaScript code below that uses <code>addEventListener</code>
            to turn the button's style.background property to
            <tt style="background-color: #ff8">'#ff8'</tt> when it is clicked.
            For bonus marks, try adding a second, separate click handler that calls:
            <code>alert('Hello')</code>
        </p>
        <p lang="ru" hidden="hidden">
            Напишите внизу код на JavaScript, который, при клике на кнопку через метод <code>addEventListener</code>,
            изменяет фон кнопки путем установки свойства <code>style.background</code> на
            <tt style="background-color: #ff8">'#ff8'</tt>.
            В дополнение, попробуйте добоавить второй обработчик, который вызывает:
            <code>alert('Hello')</code>
        </p>

        <p>
            <textarea id="code2"></textarea><br>
            <span id="playground2" style="display: none"><button id="w3c">Execute</button></span>
            <button id="execute2" onclick="Tutorial.setup2(); Tutorial.execute(2)">
                <!--<span lang="en" hidden="hidden">Execute</span>
                <span lang="ru" hidden="hidden">Выполнить</span>-->
            </button>
            &nbsp;
            <button onclick="Tutorial.setup2(); Tutorial.showDiv('solution2', this)" id="giveup2">
                <span lang="en" hidden="hidden">See Answer</span>
                <span lang="ru" hidden="hidden">Посмотреть ответ</span>
            </button>
        </p>

        <div id="solution2" class="solution">
            <fieldset>
                <legend>
                    <span lang="en" hidden="hidden">Sample solution</span>
                    <span lang="ru" hidden="hidden">Решение</span>
                </legend>
                <code class="prettyprint"><span class="kwd">var</span><span class="pln"> button </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">'w3c'</span><span class="pun">);</span><br><span class="pln"> button</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">background </span><span class="pun">=</span><span class="pln"> </span><span class="str">'#ff8'</span><span class="pun">;},</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><br><span class="pln"> </span><span class="com">// Bonus:</span><br><span class="pln"> button</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">alert</span><span class="pun">(</span><span class="str">'Hello'</span><span class="pun">);},</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span></code>
            </fieldset>

            <p>
                <button onclick="Tutorial.showDiv('section3', this)">
                    <span lang="en" hidden="hidden">Start Lesson 3↓</span>
                    <span lang="ru" hidden="hidden">Начать упражнение 3 ↓</span>
                </button>
            </p>
        </div>
    </div>

    <!-- Lesson 3 -->
    <div id="section3" class="section">
        <h2 lang="en" hidden="hidden">Lesson 3: removeEventListener</h2>
        <h2 lang="ru" hidden="hidden">Упражнение 3: метод removeEventListener</h2>
        <p lang="en" hidden="hidden">
            Once you add an event listener, it will fire every time that event
            occurs.  To stop listening, use the
            <code>element.removeEventListener('click', yourFunction, false)</code>
            function.<sup><small><a target="help" href="https://developer.mozilla.org/en-US/docs/DOM/element.removeEventListener">[?]</a></small></sup>
            Note that you must provide <code>removeEventListener</code> with a
            pointer to the same function that you provided to <code>addEventListener</code>.
        </p>
        <p lang="ru" hidden="hidden">
            Как только обработчик события добавлен, он вызывается каждый раз при наступлении события.
            Для остановки обработки события используется метод
            <code>element.removeEventListener('click', yourFunction, false)</code><sup><small><a target="help" href="https://developer.mozilla.org/en-US/docs/DOM/element.removeEventListener">[?]</a></small></sup>.
            Отметим, что необходимо предоставить методу <code>removeEventListener</code>
            указатель на ту самую функцию, которая была установлена через метод <code>addEventListener</code>.
        </p>

        <p>
            <span lang="en" hidden="hidden"> Here is an image of a star: &nbsp;</span>
            <span lang="ru" hidden="hidden"> Вот картинка звезды: &nbsp;</span>
            <span id="playground3"><img src="star_on.gif" id="once_star"></span>
        </p>

        <p lang="en" hidden="hidden">This is the HTML for the above image:</p>
        <p lang="ru" hidden="hidden">Внизу представлена HTML разметка для указанной картинки:</p>
<pre class="prettyprint"><span class="tag">&lt;img</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"once_star"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"star_on.gif"</span><span class="tag">&gt;</span></pre>

        <p lang="en" hidden="hidden">
            Write some JavaScript code below that uses <code>addEventListener</code>
            to pop open an <code>alert('Hello')</code> dialog when the star is clicked.
            This handler should also self-destruct, by using <code>removeEventListener</code>
            to stop it from firing ever again.
        </p>
        <p lang="ru" hidden="hidden">
            Напишите внизу код на JavaScript использующий <code>addEventListener</code>
            для вызова диалогового окна <code>alert('Hello')</code> при нажатии на картинку.
            Этот обработчик должен также самоуничтожаться используя метод <code>removeEventListener</code>
            для предотварщения обработки дальнейших событий.
        </p>

        <p>
            <textarea id="code3"></textarea><br>
            <button id="execute3" onclick="Tutorial.setup3(); Tutorial.resetSection3();">
                <!--<span lang="en" hidden="hidden">Execute</span>
                <span lang="ru" hidden="hidden">Выполнить</span>-->
            </button>
            &nbsp;
            <button onclick="Tutorial.showDiv('solution3', this)" id="giveup3">
                <span lang="en" hidden="hidden">See Answer</span>
                <span lang="ru" hidden="hidden">Посмотреть ответ</span>
            </button>
        </p>

        <div id="solution3" class="solution">
            <fieldset>
                <legend>
                    <span lang="en" hidden="hidden">Sample solution</span>
                    <span lang="ru" hidden="hidden">Решение</span>
                </legend>
                <code class="prettyprint"><span class="kwd">var</span><span class="pln"> img </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">'once_star'</span><span class="pun">);</span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> clickFunc </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><br><span class="pln"> &nbsp; alert</span><span class="pun">(</span><span class="str">'Hello'</span><span class="pun">);</span><br><span class="pln"> &nbsp; img</span><span class="pun">.</span><span class="pln">removeEventListener</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> clickFunc</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><br><span class="pln"> </span><span class="pun">};</span><br><span class="pln"> img</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> clickFunc</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span></code>
            </fieldset>

            <p>
                <button onclick="Tutorial.showDiv('section4', this)">
                    <span lang="en" hidden="hidden">Start Lesson 4↓</span>
                    <span lang="ru" hidden="hidden">Начать упражнение 4 ↓</span>
                </button>
            </p>
        </div>
    </div>
    <!-- Lesson 4 -->
    <div id="section4" class="section">
        <h2 lang="en" hidden="hidden">Lesson 4: Event object</h2>
        <h2 lang="ru" hidden="hidden">Упражнение 4: Объект Event</h2>
        <p lang="en" hidden="hidden">
            When an event handler is called, it is passed one argument: an
            <code>Event</code><sup><small><a target="help" href="https://developer.mozilla.org/en-US/docs/DOM/event">[?]</a></small></sup>
            object.  This object contains a bunch of useful information about the event, including
            which mouse buttons were used, whether the shift or control keys were pressed, etc.
            Click this star, and check the console to see the resulting event object:
        </p>
        <p lang="ru" hidden="hidden">
            Когда вызывается обработчик событий в него передаеться один аргумент: объект
            <code>Event</code><sup><small><a target="help" href="https://developer.mozilla.org/en-US/docs/DOM/event">[?]</a></small></sup>
            Этот объект содержит много полезной информации о событии, в том числе
            какая кнопка мыши была нажата, был ли нажаты при этом клавиши <kbd>Shift</kbd>,
            <kbd>Alt</kbd> или <kbd>Ctrl</kbd>  и т.д.
            Нажмите на эту звезочку и посмотрите в консоли данные о событии:

        </p>
        <img id="event_star" src="star_on.gif" style="cursor: pointer;">

        <p lang="en" hidden="hidden">Here is the JavaScript code for the above star:</p>
        <p lang="ru" hidden="hidden">Вот код на JavaScript для представленной звездочки:</p>
        <pre class="prettyprint"><span class="kwd">var</span><span class="pln"> handler </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">'event_star'</span><span class="pun">).</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> handler</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span></pre>

        <p lang="en" hidden="hidden">
            One of the most useful properties is
            <code>target</code><sup><small><a target="help" href="https://developer.mozilla.org/en-US/docs/DOM/event.target">[?]</a></small></sup>
            which contains the DOM node that was clicked (or otherwise manipulated).
            This allows one to add a single event handler to a parent node, then deal
            with the appropriate node when an event is triggered.
        </p>
        <p lang="ru" hidden="hidden">
            Набиолее полезное свойство это <code>target</code><sup><small><a target="help" href="https://developer.mozilla.org/en-US/docs/DOM/event.target">[?]</a></small></sup>
            содержащий узел DOM по по которому произведен клик (или другие действия).
            Это позволяет добавить единственный обработчик событий для родительского узла и
            затем обрабатывать соответствующий узел при наступлении события.
        </p>

        <table style="width: 100%">
            <tbody>
                <tr>
                    <td valign="top">
                        <p lang="en" hidden="hidden">Here is a table containing 100 stars:</p>
                        <p lang="ru" hidden="hidden">Здесь представлена таблица со 100 звездочками:</p>
                        <style>
                            #star_table td {
                                padding: 2px;
                            }
                        </style>
                        <div id="playground4"><table id="star_table"><tr><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td></tr><tr><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td></tr><tr><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td></tr><tr><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td></tr><tr><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td></tr><tr><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td></tr><tr><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td></tr><tr><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td></tr><tr><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td></tr><tr><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td><td><img src="star_off.gif"></td></tr></table></div>
                    </td>
                    <td valign="top">
                        <p lang="en" hidden="hidden">This is the HTML for the table to the left:</p>
                        <p lang="ru" hidden="hidden">Это HTML разметка для таблицы слева:</p>
                        <pre class="prettyprint"><span class="tag">&lt;table</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"star_table"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;tr&gt;</span><span class="pln">
    </span><span class="tag">&lt;td&gt;&lt;img</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"star_off.gif"</span><span class="tag">&gt;&lt;td&gt;</span><span class="pln">
    </span><span class="tag">&lt;td&gt;&lt;img</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"star_off.gif"</span><span class="tag">&gt;&lt;td&gt;</span><span class="pln">
    </span><span class="tag">&lt;td&gt;&lt;img</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"star_off.gif"</span><span class="tag">&gt;&lt;td&gt;</span><span class="pln">
    ...
  </span><span class="tag">&lt;tr&gt;</span><span class="pln">
  </span><span class="tag">&lt;/tr&gt;</span><span class="pln">
    </span><span class="tag">&lt;td&gt;&lt;img</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"star_off.gif"</span><span class="tag">&gt;&lt;td&gt;</span><span class="pln">
    </span><span class="tag">&lt;td&gt;&lt;img</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"star_off.gif"</span><span class="tag">&gt;&lt;td&gt;</span><span class="pln">
    </span><span class="tag">&lt;td&gt;&lt;img</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"star_off.gif"</span><span class="tag">&gt;&lt;td&gt;</span><span class="pln">
    ...
  </span><span class="tag">&lt;tr&gt;</span><span class="pln">
  ...
</span><span class="tag">&lt;/table&gt;</span></pre>
                    </td>
                </tr>
            </tbody>
        </table>

        <p lang="en" hidden="hidden">
            The goal of this lesson is to be able to mouse over the table and
            have the stars turn 'on' wherever the mouse goes using the
            <code>'mouseover'</code> event
            (<a target="help" href="https://dom-tutorials.appspot.com/static/star_table.html">see&nbsp;demo</a>).
            But instead of creating 100 event handlers, just create one
            handler on the table that uses the event's <code>target</code> property
            to change the <code>src</code> property of the correct star.
        </p>
        <p lang="ru" hidden="hidden">
            Целью данного упражнения является добавление эффекта переключения
            звездочек в таблице из состояния выключены в состояния включены 'on' при наведении
            на них курсора мыши использя событие <code>'mouseover'</code>
            (<a target="help" href="star_table.html">посмотреть&nbsp;пример</a>).
            Но, вместо того, что бы созвавать 100 обработчиков событий для каждой звездочки, достаточно
            создвать один обработчик для табицы и используя свойство <code>target</code> события
            изменить его свойство <code>src</code>.
        </p>

        <p>
            <textarea id="code4"></textarea><br>
            <button id="execute4" onclick="Tutorial.setup4(); Tutorial.resetSection4();">
                <!--<span lang="en" hidden="hidden">Execute</span>
                <span lang="ru" hidden="hidden">Выполнить</span>-->
            </button>
            &nbsp;
            <button onclick="Tutorial.showDiv('solution4', this)" id="giveup4">
                <span lang="en" hidden="hidden">See Answer</span>
                <span lang="ru" hidden="hidden">Посмотреть ответ</span>
            </button>
        </p>

        <div id="solution4" class="solution">
            <fieldset>
                <legend>
                    <span lang="en" hidden="hidden">Sample solution</span>
                    <span lang="ru" hidden="hidden">Решение</span>
                </legend>
                <code class="prettyprint"><span class="kwd">var</span><span class="pln"> func </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><br><span class="pln"> &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="pln">target</span><span class="pun">.</span><span class="pln">src</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><br><span class="pln"> &nbsp; &nbsp; e</span><span class="pun">.</span><span class="pln">target</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> </span><span class="str">'star_on.gif'</span><span class="pun">;</span><br><span class="pln"> &nbsp; </span><span class="pun">}</span><br><span class="pln"> </span><span class="pun">};</span><br><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">'star_table'</span><span class="pun">).</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'mouseover'</span><span class="pun">,</span><span class="pln"> func</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span></code>
            </fieldset>

            <p>
                <button onclick="Tutorial.showDiv('section5', this)">
                    <span lang="en" hidden="hidden">Start Lesson 5 ↓</span>
                    <span lang="ru" hidden="hidden">Начать упражнение 5 ↓</span>
                </button>
            </p>
        </div>
    </div>

    <!--Lesson 5-->
    <div id="section5" class="section">
        <h2 lang="en" hidden="hidden">Lesson 5: preventDefault</h2>
        <h2 lang="ru" hidden="hidden">Упражнение 5: метод preventDefault</h2>
        <p lang="en" hidden="hidden">
            The event object that is passed to handler functions also includes some
            useful methods that can effect what happens after handler finishes executing.
            One of these methods is <code>preventDefault</code><sup><small><a target="help" href="https://developer.mozilla.org/en-US/docs/DOM/event.preventDefault">[?]</a></small></sup>.
            When called, this method prevents the browser from taking its normal actions in response to the event.
            An example of this is to supress the appearance of the browser's context menu.
        </p>
        <p lang="ru" hidden="hidden">
            Объект event передаваемый обработчику событий в качестве аргумента содержит
            полезные методы, которые могут влять на то, что произойдет после завершения обработчика.
            Один из таких методов  <code>preventDefault</code><sup><small><a target="help" href="https://developer.mozilla.org/en-US/docs/DOM/event.preventDefault">[?]</a></small></sup>.
            При вызове этого метода браузер предотварщает выполнение обычных действия соответствующих этому событию.
            Например, подавление появления контекстного меню браузера.
        </p>

        <p>
            <span lang="en" hidden="hidden">Phone number:</span>
            <span lang="ru" hidden="hidden">Номер телефона:</span>
            <span id="playground5"><input id="phone"></span>
        </p>

        <p lang="en" hidden="hidden">
            Write some JavaScript code below that adds a <code>keypress</code> event handler to the input field (id is <code>"phone"</code>).
            If the user types something other than a number (look at the event's <code>charCode</code> property for the
            ASCII<sup><small><a target="help" href="http://ascii.cl/">[?]</a></small></sup>
            value), then cancel the event by calling <code>preventDefault</code>.
        </p>
        <p lang="ru" hidden="hidden">
            Напишите код на JavaScript внизу в котором реализуйте обработку события <code>keypress</code>
            для поля ввода ( с id равным <code>"phone"</code>).
            Если пользователь вводит что-либо отличное от цифры (смотрим значение свойства <code>charCode</code> для события
            ASCII<sup><small><a target="help" href="http://ascii.cl/">[?]</a></small></sup>),
            то отменяем стандартное событие вызвая метод <code>preventDefault</code>.
        </p>

        <p>
            <textarea id="code5"></textarea><br>
            <button id="execute5" onclick="Tutorial.setup5(); Tutorial.resetSection5(); Tutorial.execute(5);">
                <!--<span lang="en" hidden="hidden">Execute</span>
                <span lang="ru" hidden="hidden">Выполнить</span>-->
            </button>
            &nbsp;
            <button onclick="Tutorial.showDiv('solution5', this)" id="giveup5">
                <span lang="en" hidden="hidden">See Answer</span>
                <span lang="ru" hidden="hidden">Посмотреть ответ</span>
            </button>
        </p>


        <div id="solution5" class="solution">
            <fieldset>
                <legend>
                    <span lang="en" hidden="hidden">Sample solution</span>
                    <span lang="ru" hidden="hidden">Решение</span>
                </legend>
                <code class="prettyprint"><span class="kwd">var</span><span class="pln"> func </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><br><span class="pln"> &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="pln">charCode </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">48</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">charCode </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">57</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><br><span class="pln"> &nbsp; &nbsp; e</span><span class="pun">.</span><span class="pln">preventDefault</span><span class="pun">();</span><br><span class="pln"> &nbsp; </span><span class="pun">}</span><br><span class="pln"> </span><span class="pun">};</span><br><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">'phone'</span><span class="pun">).</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'keypress'</span><span class="pun">,</span><span class="pln"> func</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span></code>
            </fieldset>

            <p>
                <button onclick="Tutorial.showDiv('section6', this)">                    
                    <span lang="en" hidden="hidden">Start Exercise ↓</span>
                    <span lang="ru" hidden="hidden">Начать практическое задание ↓</span>
                </button>
            </p>
        </div>
    </div>


    <div id="section6" class="section">
        <h2 lang="en" hidden="hidden">Exercise: Context Menu</h2>
        <h2 lang="ru" hidden="hidden">Практическое задание: Контекстное меню</h2>

        <p lang="en" hidden="hidden">For this exercise we want to implement a custom context menu for Tux, the penguin.</p>
        <p lang="ru" hidden="hidden">В этом практическом задании мы будем реализовывать пользовательское контекстное меню для пингвина Tux.</p>

        <table style="width: 100%">
            <tbody>
                <tr>
                    <td id="playground6" valign="top"><img id="tux" src="tux.png"><div id="menu"><div id="option1">Photograph</div><div id="option2">Rub belly</div><div id="option3">Feed a fish</div></div></td>
                    <td valign="top">
                        <p lang="en" hidden="hidden">This is the HTML for a menu which exists, but is currently hidden:</p>
                        <p lang="ru" hidden="hidden">Это HTML разметка для меню, которое сейчас скрыто:</p>
                        <pre class="prettyprint"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"menu"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"option1"</span><span class="tag">&gt;</span><span class="pln">Photograph</span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"option2"</span><span class="tag">&gt;</span><span class="pln">Rub belly</span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"option3"</span><span class="tag">&gt;</span><span class="pln">Feed a fish</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></pre>
                    </td>
                </tr>
            </tbody>
        </table>

        <style>
            #menu {
                display: none;
                position: absolute;
                border: solid 1px #ccc;
            }

                #menu div {
                    padding: 2px 1em;
                    background-color: #fff;
                    cursor: default;
                }

                    #menu div:hover {
                        background-color: #68f;
                        color: #fff;
                    }
        </style>

        <p lang="en" hidden="hidden">Write some JavaScript code below that does as many of the following as you can:</p>
        <p lang="ru" hidden="hidden">Напишите код JavaScript который выполняет следующее:</p>
        <ol lang="en" hidden="hidden">
            <li>Add a <code>click</code> event handler to the penguin (his id is <code>"tux"</code>) that makes the menu visible (<code>style.display = 'block'</code>).</li>
            <li>Move the menu (e.g. <code>style.left = '123px'</code> and <code>style.top = '123px'</code>) to the mouse's location. Use the event's <code>pageX</code> and <code>pageY</code> properties.</li>
            <li>Instead of using <code>click</code>, use <code>contextmenu</code> to detect the right mouse button.</li>
            <li>
                Supress the browser's own context menu.
            </li>
            <li>Add a click handler to the whole page (<code>document.body</code>) that hides the menu (<code>style.display = 'none'</code>).</li>
            <li>Add event handlers to each option that does something.</li>
        </ol>
        <ol lang="ru" hidden="hidden">
            <li>Добавте обработчик события <code>click</code> для пингвина (его id равен <code>"tux"</code>) который делает меню видимым (<code>style.display = 'block'</code>).</li>
            <li>
                Переместите меню (например <code>style.left = '123px'</code> и <code>style.top = '123px'</code>) в позицию мышки.
                Используйте свойства события <code>pageX</code> и <code>pageY</code>.
            </li>
            <li>Вместо события <code>click</code> используйте <code>contextmenu</code> для перехвата события нажатия правой кнопки мыши.</li>
            <li>
                Подавите появление стандартного контекстного меню.
            </li>
            <li>
                Добавте обработчик события <code>click</code> для всей страницы (<code>document.body</code>)
                который скрывает меню (<code>style.display = 'none'</code>).
            </li>
            <li>
                Добавте обработчик события для каждой опции меню, который что-либо выполняет (например, вывод сообщения через <code>alert</code>).                
            </li>
        </ol>

        <p>
            <textarea id="menuTest"></textarea><br>
            <button onclick="Tutorial.setup6(); Tutorial.menuTest()">
                <span lang="en" hidden="hidden">Reset &amp; Execute</span>
                <span lang="ru" hidden="hidden">Сбросить &amp; Выполнить</span>
            </button>
        </p>

        <p lang="en" hidden="hidden">
            Use the <a href="https://groups.google.com/d/forum/intro-to-javascript">
                Intro
                to JavaScript forum
            </a> to share your solution to this exercise and see other
            people's solutions.
        </p>
        <p lang="ru" hidden="hidden">
            Посетите <a href="https://groups.google.com/d/forum/intro-to-javascript">
                Форум Введение в
                JavaScript
            </a> для предоставление своего решения этого практического задания и для того, что бы посмотреть решение других людей.
        </p>
    </div>

    <hr>
    <div class="balls"><img src="google_balls.jpg" height="68" width="101"></div>
    <div class="footer">
        ← <a href="https://dom-tutorials.appspot.com/static/index.html">JavaScript DOM Tutorials</a> - Google © 2012 - Neil Fraser (fraser@google.com)
        Translated to Russian by Shaptala Maxim &copy; (maxshaptala@gmail.com)
    </div>
    <script>
        window.addEventListener('load', function () {
            for (var i = 1; i <= 5; i++) {
                var giveup = document.getElementById('giveup' + i);
                if (giveup) {
                    giveup.setAttribute("disabled", "disabled");
                }
            }
        });
    </script>

    <script>
        (function () {
            var btnsExecute = document.querySelectorAll("button[id^='execute']");
            var i;
            var ruSpan = document.createElement("span");
            ruSpan.setAttribute("hidden", "hidden");
            ruSpan.appendChild(document.createTextNode("Выполнить"));
            var enSpan = ruSpan.cloneNode(true);
            enSpan.appendChild(document.createTextNode("Execute"));
            ruSpan.setAttribute("lang", "ru");
            enSpan.setAttribute("lang", "en");
            for (i = 0; i < btnsExecute.length; i++) {
                btnsExecute[i].appendChild(ruSpan.cloneNode(true));
                btnsExecute[i].appendChild(enSpan.cloneNode(true));
            }
        })();
    </script>

</body>
</html>